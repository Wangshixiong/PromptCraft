# PromptCraft - æç¤ºè¯ç®¡ç†åŠ©æ‰‹

ä¸€ä¸ªå®‰å…¨ã€å¯é ã€å¯è·¨è®¾å¤‡åŒæ­¥çš„Chromeæµè§ˆå™¨æç¤ºè¯ç®¡ç†æ’ä»¶ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ” å®‰å…¨è®¤è¯
- GitHubè´¦æˆ·ä¸€é”®ç™»å½•
- æ•°æ®ä¸ä¸ªäººèº«ä»½ç»‘å®š
- è¡Œçº§å®‰å…¨ç­–ç•¥ä¿æŠ¤

### â˜ï¸ äº‘ç«¯åŒæ­¥
- åŸºäºSupabaseçš„äº‘ç«¯å­˜å‚¨
- è·¨è®¾å¤‡æ•°æ®åŒæ­¥
- å®æ—¶CRUDæ“ä½œ

### ğŸš€ å¿«é€Ÿè®¿é—®
- æµè§ˆå™¨ä¾§è¾¹æ å¸¸é©»
- å¿«æ·é”®å¿«é€Ÿåˆ‡æ¢ (Ctrl+Shift+P)
- å®æ—¶æœç´¢å’Œåˆ†ç±»ç­›é€‰
- ä¸€é”®å¤åˆ¶æç¤ºè¯

### ğŸ“ ä¾¿æ·ç®¡ç†
- å³é”®èœå•å¿«é€Ÿæ·»åŠ é€‰ä¸­æ–‡æœ¬
- è‡ªå®šä¹‰åˆ†ç±»ç®¡ç†
- æ‰¹é‡å¯¼å…¥å¯¼å‡º
- æ–°ç”¨æˆ·é»˜è®¤æç¤ºè¯åº“

### ğŸ¨ ä¼˜é›…è®¾è®¡
- "æ•°å­—ç¦…æ„"è®¾è®¡é£æ ¼
- æµ…è‰²/æ·±è‰²/è‡ªåŠ¨ä¸»é¢˜
- æµç•…åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ
- å“åº”å¼ç•Œé¢è®¾è®¡

## å®‰è£…æ–¹æ³•

### å¼€å‘è€…æ¨¡å¼å®‰è£…

1. æ‰“å¼€Chromeæµè§ˆå™¨
2. è®¿é—® `chrome://extensions/`
3. å¼€å¯å³ä¸Šè§’çš„"å¼€å‘è€…æ¨¡å¼"
4. ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
5. é€‰æ‹©æœ¬é¡¹ç›®æ–‡ä»¶å¤¹
6. æ’ä»¶å®‰è£…å®Œæˆ

### ä½¿ç”¨æ–¹æ³•

1. **é¦–æ¬¡ä½¿ç”¨**ï¼šç‚¹å‡»æ’ä»¶å›¾æ ‡ï¼Œä½¿ç”¨GitHubè´¦æˆ·ç™»å½•
2. **æ‰“å¼€ä¾§è¾¹æ **ï¼šç‚¹å‡»æ’ä»¶å›¾æ ‡æˆ–ä½¿ç”¨å¿«æ·é”® `Ctrl+Shift+P`
3. **æ·»åŠ æç¤ºè¯**ï¼š
   - ç‚¹å‡»"æ–°å¢"æŒ‰é’®æ‰‹åŠ¨æ·»åŠ 
   - é€‰ä¸­ç½‘é¡µæ–‡æœ¬åå³é”®é€‰æ‹©"æ·»åŠ åˆ°PromptCraft"
4. **ç®¡ç†æç¤ºè¯**ï¼šåœ¨ä¾§è¾¹æ ä¸­æœç´¢ã€ç¼–è¾‘ã€åˆ é™¤ã€åˆ†ç±»ç®¡ç†
5. **ä½¿ç”¨æç¤ºè¯**ï¼šç‚¹å‡»å¤åˆ¶æŒ‰é’®å°†æç¤ºè¯å¤åˆ¶åˆ°å‰ªè´´æ¿

## å¿«æ·é”®

- `Ctrl+Shift+P` (Mac: `Cmd+Shift+P`) - åˆ‡æ¢ä¾§è¾¹æ æ˜¾ç¤º/éšè—
- `Alt+Q` - å¿«é€Ÿæ·»åŠ é€‰ä¸­æ–‡æœ¬
- `Ctrl+K` (Mac: `Cmd+K`) - èšç„¦æœç´¢æ¡†
- `Ctrl+N` (Mac: `Cmd+N`) - æ–°å¢æç¤ºè¯
- `Escape` - å…³é—­æ¨¡æ€æ¡†

## æŠ€æœ¯æ ˆ

- **å‰ç«¯**ï¼šçº¯JavaScript + HTML5 + CSS3
- **åç«¯**ï¼šSupabase (PostgreSQL + Auth + RLS)
- **æµè§ˆå™¨API**ï¼šChrome Extension Manifest V3

## é¡¹ç›®ç»“æ„

```
PromptCraft/
â”œâ”€â”€ manifest.json          # Chromeæ’ä»¶é…ç½®æ–‡ä»¶
â”œâ”€â”€ background.js          # åå°æœåŠ¡è„šæœ¬
â”œâ”€â”€ content.js            # å†…å®¹è„šæœ¬
â”œâ”€â”€ sidebar.html          # ä¾§è¾¹æ ç•Œé¢
â”œâ”€â”€ css/
â”‚   â””â”€â”€ sidebar.css       # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ supabaseClient.js # Supabaseå®¢æˆ·ç«¯
â”‚   â””â”€â”€ sidebar.js        # ä¾§è¾¹æ é€»è¾‘
â”œâ”€â”€ icons/                # æ’ä»¶å›¾æ ‡
â”‚   â”œâ”€â”€ icon16.png
â”‚   â”œâ”€â”€ icon32.png
â”‚   â”œâ”€â”€ icon48.png
â”‚   â””â”€â”€ icon128.png
â””â”€â”€ README.md             # è¯´æ˜æ–‡æ¡£
```

## å¼€å‘è¯´æ˜

### ç¯å¢ƒè¦æ±‚
- Chromeæµè§ˆå™¨ 88+
- æœ‰æ•ˆçš„Supabaseé¡¹ç›®é…ç½®
- GitHubè´¦æˆ·ï¼ˆç”¨äºOAuthç™»å½•ï¼‰

### é…ç½®è¯´æ˜

#### 1. Supabaseé¡¹ç›®è®¾ç½®

1. **åˆ›å»ºSupabaseé¡¹ç›®**ï¼š
   - è®¿é—® [Supabase](https://supabase.com) å¹¶åˆ›å»ºæ–°é¡¹ç›®
   - è®°å½•é¡¹ç›®çš„ URL å’Œ anon key

2. **é…ç½®GitHub OAuth**ï¼š
   - åœ¨Supabase Dashboardä¸­ï¼Œè¿›å…¥ `Authentication > Providers`
   - å¯ç”¨GitHub provider
   - åœ¨GitHubä¸­åˆ›å»ºOAuthåº”ç”¨ï¼š
     - è®¿é—® GitHub Settings > Developer settings > OAuth Apps
     - ç‚¹å‡» "New OAuth App"
     - å¡«å†™åº”ç”¨ä¿¡æ¯ï¼š
       - Application name: `PromptCraft`
       - Homepage URL: `https://your-project.supabase.co`
       - Authorization callback URL: `https://your-project.supabase.co/auth/v1/callback`
   - å°†GitHub OAuthåº”ç”¨çš„Client IDå’ŒClient Secretå¡«å…¥Supabase

3. **æ›´æ–°æ’ä»¶é…ç½®**ï¼šåœ¨ `js/supabaseClient.js` ä¸­é…ç½®æ‚¨çš„Supabase URLå’ŒAnon Key

#### 2. æ•°æ®åº“è¡¨ç»“æ„
   ```sql
   CREATE TABLE prompts (
     id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
     user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
     title TEXT NOT NULL,
     content TEXT NOT NULL,
     category TEXT DEFAULT 'é»˜è®¤åˆ†ç±»',
     created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
     updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
   );
   ```

3. **è¡Œçº§å®‰å…¨ç­–ç•¥**ï¼š
   ```sql
   ALTER TABLE prompts ENABLE ROW LEVEL SECURITY;
   
   CREATE POLICY "Users can only access their own prompts" ON prompts
     FOR ALL USING (auth.uid() = user_id);
   ```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. CSP (å†…å®¹å®‰å…¨ç­–ç•¥) é”™è¯¯
**ç—‡çŠ¶**ï¼šæ§åˆ¶å°æ˜¾ç¤º "Refused to execute inline event handler" é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç¡®ä¿æ‰€æœ‰äº‹ä»¶å¤„ç†å™¨éƒ½é€šè¿‡ `addEventListener` ç»‘å®šï¼Œè€Œä¸æ˜¯å†…è”äº‹ä»¶
- æ£€æŸ¥HTMLä¸­æ˜¯å¦æœ‰ `onclick`ã€`onload` ç­‰å†…è”äº‹ä»¶å±æ€§
- æ‰€æœ‰JavaScriptä»£ç éƒ½åº”åœ¨ç‹¬ç«‹çš„ `.js` æ–‡ä»¶ä¸­

#### 2. GitHubç™»å½•å¤±è´¥
**ç—‡çŠ¶**ï¼šç‚¹å‡»ç™»å½•æŒ‰é’®åå‡ºç° "Authorization page could not be loaded" é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥Supabaseé¡¹ç›®ä¸­çš„GitHub OAuthé…ç½®
2. ç¡®è®¤GitHub OAuthåº”ç”¨çš„å›è°ƒURLè®¾ç½®æ­£ç¡®
3. éªŒè¯ `js/supabaseClient.js` ä¸­çš„Supabase URLå’Œå¯†é’¥é…ç½®
4. æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è®¾ç½®

#### 3. æ•°æ®åŒæ­¥é—®é¢˜
**ç—‡çŠ¶**ï¼šæç¤ºè¯æ— æ³•ä¿å­˜æˆ–åŠ è½½

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤å·²æ­£ç¡®æ‰§è¡Œ `database.sql` è„šæœ¬
2. æ£€æŸ¥Supabaseé¡¹ç›®çš„RLSç­–ç•¥æ˜¯å¦æ­£ç¡®é…ç½®
3. éªŒè¯ç”¨æˆ·æ˜¯å¦å·²æˆåŠŸç™»å½•
4. æŸ¥çœ‹æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„Networké¢æ¿æ£€æŸ¥APIè¯·æ±‚

#### 4. æ’ä»¶æƒé™é”™è¯¯
**ç—‡çŠ¶**ï¼šæ’ä»¶åŠŸèƒ½æ— æ³•æ­£å¸¸å·¥ä½œ

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ `manifest.json` ä¸­çš„æƒé™é…ç½®
2. é‡æ–°åŠ è½½æ’ä»¶ï¼šåœ¨ `chrome://extensions/` ä¸­ç‚¹å‡»åˆ·æ–°æŒ‰é’®
3. ç¡®è®¤Chromeæµè§ˆå™¨ç‰ˆæœ¬æ”¯æŒManifest V3

### è°ƒè¯•æ–¹æ³•

1. **æŸ¥çœ‹æ’ä»¶é”™è¯¯**ï¼š
   - è®¿é—® `chrome://extensions/`
   - ç‚¹å‡»æ’ä»¶çš„"è¯¦ç»†ä¿¡æ¯"
   - æŸ¥çœ‹"é”™è¯¯"éƒ¨åˆ†

2. **å¼€å‘è€…å·¥å…·è°ƒè¯•**ï¼š
   - å³é”®ç‚¹å‡»ä¾§è¾¹æ ï¼Œé€‰æ‹©"æ£€æŸ¥"
   - æŸ¥çœ‹Consoleé¢æ¿çš„é”™è¯¯ä¿¡æ¯
   - æ£€æŸ¥Networké¢æ¿çš„ç½‘ç»œè¯·æ±‚çŠ¶æ€

3. **åå°è„šæœ¬è°ƒè¯•**ï¼š
   - åœ¨ `chrome://extensions/` ä¸­ç‚¹å‡»"service worker"
   - æŸ¥çœ‹åå°è„šæœ¬çš„æ§åˆ¶å°è¾“å‡º

## ç‰ˆæœ¬å†å²

### v0.1.0 (å½“å‰ç‰ˆæœ¬)
- âœ… åŸºç¡€CRUDåŠŸèƒ½
- âœ… GitHub OAuthè®¤è¯
- âœ… äº‘ç«¯æ•°æ®åŒæ­¥
- âœ… ä¾§è¾¹æ ç•Œé¢
- âœ… æœç´¢å’Œåˆ†ç±»
- âœ… å³é”®èœå•æ·»åŠ 
- âœ… ä¸»é¢˜åˆ‡æ¢
- âœ… æ•°æ®å¯¼å…¥å¯¼å‡º

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼