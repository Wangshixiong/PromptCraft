# 1. 核心理念 (Core Philosophy)

1.  **本地优先，可选同步**: 应用的核心体验必须保证在**未登录/离线状态**下功能的完整性。网络同步是用户**可选择**的增强功能，而非必要条件。
2.  **体验为王**: 始终追求极致的性能和用户体验。这包括“秒开”的响应速度、流畅的交互动画和简洁直观的界面设计。
3.  **安全透明**: 必须明确告知用户哪些数据将被同步。始终为用户提供可完全在本地使用的纯净模式。
4.  **最小化修改**: 对于代码的修改，必须遵循最小化修改原则。例如，新增功能必须经过认真思考，确保不会引入新的安全漏洞或性能问题。

# 2. 技术红线 (Technical Red Lines)

1.  **技术栈选型**:
    * **允许**: 坚持使用**原生JavaScript (ES6+)、CSS3、HTML5**作为核心。允许且推荐使用官方提供的、用于连接特定后端服务（如Supabase）的**专用JS SDK**。
    * **严禁**: **严禁**引入任何改变DOM结构和开发范式的前端框架（如React, Vue, Angular）或通用的工具/UI库（如jQuery, Lodash, Bootstrap）。
2.  **扩展标准**: 必须遵循最新的 **Chrome Extension Manifest V3** 标准，以确保安全性、性能和长期兼容性。
3.  **统一数据入口**: 所有对存储（无论是本地`chrome.storage`还是远程数据库）的读写操作，都**必须**通过统一的数据服务模块 (`src/utils/data-service.js`) 进行，严禁在其他地方直接调用存储API。

# 3. 开发规范 (Development Standards)

1.  **数据结构**: 所有“提示词”数据对象必须严格遵循以下核心结构，确保数据的一致性。
    ```json
    {
      "id": "string (UUID)",
      "title": "string",
      "content": "string",
      "category": "string",
      "created_at": "string (ISO 8601)",
      "updated_at": "string (ISO 8601)"
    }
    ```
2.  **代码质量**:
    * **注释**: 所有新增函数必须有JSDoc风格的注释（说明功能、参数、返回值）。复杂的业务逻辑必须添加行内注释。
    * **异步**: 全项目统一使用 `async/await` 进行异步编程。

3.  **UI一致性**: 所有新增的UI组件必须：
    * 使用CSS Variables，同时适配**明亮**和**暗黑**两种主题。
    * 保持与项目现有UI（如卡片、按钮、间距）的设计风格一致。

# 4. 网络与安全 (Networking & Security)
1.  **功能定位**: 网络功能**仅用于**经用户授权的账户登录与数据同步。
2.  **逻辑隔离**: 所有网络请求、用户认证、数据同步的逻辑**必须**封装在独立的专用模块中，不得与核心的本地操作逻辑（如UI渲染、本地数据管理）随意耦合。
3.  **离线可用**: 必须确保在网络连接失败或用户未登录时，应用的本地功能**完全可用**。
4.  **冲突解决**: 在开发同步功能时，必须设计并实现一套清晰的本地与云端数据**合并与冲突解决**策略，以防止用户数据意外丢失。






