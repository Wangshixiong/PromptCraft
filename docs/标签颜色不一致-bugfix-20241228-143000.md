# 标签颜色不一致问题修复计划

## 问题描述
用户反馈标签颜色在侧边栏和唤醒窗口中显示不一致，特别是灰色标签的显示效果不同。

## TODO 清单

### [ ] 清晰的复现步骤
1. 打开浏览器插件侧边栏
2. 查看带有灰色标签的提示词
3. 在网页上唤醒快速调用窗口
4. 查看同一提示词的灰色标签
5. 对比两处的标签颜色显示效果

### [ ] 根源分析 (Root Cause Analysis)
**现象**: 灰色标签在侧边栏和唤醒窗口中显示颜色不一致

**根本原因**: 
1. **CSS样式定义不统一**: 侧边栏（components.css）和唤醒窗口（content_script.js）中对tag-gray的样式定义存在差异
2. **具体差异**:
   - 侧边栏 components.css 中 tag-gray 边框透明度为 0.2
   - 唤醒窗口 content_script.js 中 tag-gray 边框透明度为 0.3
   - 暗色模式下边框透明度也不一致（0.3 vs 0.4）

**深层原因**: 两个文件中的CSS样式是独立维护的，没有统一的样式源，导致样式定义逐渐产生分歧。

### [ ] 修复方案设计
**方案**: 统一侧边栏和唤醒窗口的标签颜色CSS定义

**具体步骤**:
1. 以侧边栏 components.css 中的样式定义为标准（边框透明度 0.2/0.3）
2. 修改 content_script.js 中的 tag-gray 样式，使其与 components.css 保持一致
3. 同时修复所有颜色标签的样式一致性，确保边框透明度统一

**技术栈遵守**: 本方案遵守【最高指令 #2】，在现有技术栈（原生JS + CSS）内进行修复，不引入新技术。

### [ ] 强制安全检查 (Mandatory Safety Check)
**回归风险评估**: 这个修复方案不会违反【最高指令 #1: 绝不引入回归】

**理由**: 
1. 本方案只是统一CSS样式定义，不涉及功能逻辑的修改
2. 修改仅影响视觉呈现，不会破坏任何现有功能
3. 统一样式定义实际上是提升了用户体验的一致性
4. 所有标签颜色功能保持完整，只是视觉效果更加统一
5. 不涉及删除或重构核心功能模块

**100%不会引入回归的保证**: 本方案仅调整CSS样式的数值参数（透明度），不改变样式结构、不删除样式规则、不修改JavaScript逻辑，因此不存在功能回归的风险。

### [ ] 详细的修复步骤
1. 备份当前的 content_script.js 文件
2. 修改 content_script.js 中所有标签颜色的边框透明度：
   - 明亮模式：从 0.3 改为 0.2
   - 暗色模式：从 0.4 改为 0.3
3. 特别确保 tag-gray 样式与 components.css 完全一致
4. 测试验证修复效果
5. 确认所有颜色标签在两个界面中显示一致

## 预期结果
修复完成后，所有标签颜色在侧边栏和唤醒窗口中将显示完全一致的视觉效果。