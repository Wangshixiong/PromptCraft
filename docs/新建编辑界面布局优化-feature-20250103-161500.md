# 新功能：新建和编辑界面布局优化

## 需求澄清与用户故事

**用户故事**: 作为一名用户，我希望新建和编辑界面的标题、作者输入框能够放在一行上，整体布局风格与侧边栏主界面保持和谐，这样可以提高界面的紧凑性和视觉一致性。

**具体需求**:
- [x] 将标题和作者输入框放在同一行
- [x] 保持与侧边栏主界面风格的和谐统一
- [x] 确保作者输入框与标题、提示词内容的文字对齐，而不是与星号(*)对齐
- [x] 适配明暗双主题
- [x] 保持响应式设计

## 技术方案设计

**参考设计**: 借鉴侧边栏主界面header的三列布局设计理念，采用现代化的Flexbox布局

**布局方案**:
1. **标题和作者行**: 使用Flexbox横向布局，标题占据更多空间(flex: 2)，作者占据较少空间(flex: 1)
2. **对齐方式**: 确保标签文字与输入框基线对齐，而非与必填标记对齐
3. **间距设计**: 参考主界面的8px间距标准
4. **响应式**: 在小屏幕下自动换行为垂直布局

**CSS实现**:
- 新增 `.form-row` 类用于横向布局
- 新增 `.form-col` 类用于列布局
- 修改现有 `.form-group` 在行布局中的表现
- 保持现有样式变量和主题适配

## 详细的开发步骤

### 步骤1: 创建新的CSS样式类
- [x] 在 `components.css` 中添加 `.form-row` 和 `.form-col` 样式
- [x] 设计响应式断点，确保小屏幕下的可用性
- [x] 适配明暗主题变量

### 步骤2: 修改HTML结构
- [x] 将标题和作者的 `.form-group` 包装在 `.form-row` 容器中
- [x] 为每个输入组添加 `.form-col` 类
- [x] 保持现有的ID和类名，确保JavaScript功能不受影响
- [x] **额外完成**: 将字符限制从10000增加到20000

### 步骤3: 调整标签对齐
- [x] 确保标签文字与输入框文字基线对齐
- [x] 处理必填标记(*)的位置，避免影响整体对齐

### 步骤4: 更新JavaScript逻辑
- [x] 更新字符计数逻辑，支持20000字符限制
- [x] 调整字符数颜色警告阈值（16000黄色，18000红色）
- [x] 更新验证提示信息

### 步骤5: 测试和优化
- [x] 测试明暗主题切换
- [x] 测试响应式布局在不同屏幕尺寸下的表现
- [x] 验证现有功能（保存、取消、验证等）正常工作
- [x] 确保与现有设计风格的一致性
- [x] 测试20000字符限制功能

### 步骤6: 代码审查和文档更新
- [x] 检查代码质量和注释
- [x] 更新相关技术文档
- [x] 确认无回归问题

## 功能实现总结

### 主要变更
1. **布局优化**: 成功将标题和作者输入框放在同一行，采用2:1的比例分配空间
2. **响应式设计**: 在小屏幕(≤480px)下自动切换为垂直布局
3. **字符限制提升**: 从10000字符增加到20000字符，满足用户需求
4. **视觉一致性**: 保持与侧边栏主界面的设计风格和谐统一

### 技术实现
- 新增`.form-row`和`.form-col`CSS类实现Flexbox布局
- 更新JavaScript中的字符计数和验证逻辑
- 保持所有现有功能的完整性，无回归问题
- 适配明暗双主题，保持良好的用户体验