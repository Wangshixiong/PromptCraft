# 🚀 PromptCraft - 智能提示词管理助手

> **当前版本**: v0.5.1 | **更新时间**: 2025-06-17

一个**专业、安全、高效**的Chrome扩展提示词管理工具，专为AI时代的内容创作者和开发者设计。采用现代化架构，提供完整的提示词生命周期管理，让您的AI对话更加精准高效。

## ✨ 核心特性

### 🎯 **智能提示词管理**
- **专业编辑器**: 支持长文本编辑（10000字符），实时字符计数
- **智能分类系统**: 内置AI绘画、编程助手、文案创作等专业分类
- **快速调用**: 页面内"pp"快捷键唤起，支持跨框架文本插入
- **版本追踪**: 完整的创建/修改时间记录，按时间排序显示

### 🔍 **高效搜索与筛选**
- **全文检索**: 标题+内容双重搜索，支持模糊匹配
- **分类筛选**: 按类别快速定位，支持"全部"和自定义分类
- **实时响应**: 输入即搜索，毫秒级响应速度
- **智能排序**: 新创建内容自动置顶，优化使用体验

### 💾 **企业级数据管理**
- **本地优先**: 基于Chrome Storage API，数据完全本地化
- **隐私保护**: 零外部传输，符合数据安全最佳实践
- **标准化格式**: JSON标准格式，支持导入导出和备份
- **数据完整性**: 内置数据验证和错误恢复机制

### 🎨 **现代化用户界面**
- **响应式设计**: 适配侧边栏和各种屏幕尺寸
- **主题系统**: 自动/明亮/暗黑三种主题模式
- **骨架屏加载**: 消除白屏等待，提供"秒开"体验
- **动画交互**: 流畅的过渡动画和悬停效果

### ⚡ **跨平台兼容性**
- **全框架支持**: 兼容React、Vue、Angular等主流前端框架
- **跨iframe注入**: 支持复杂页面结构的文本插入
- **智能目标锁定**: 精准识别输入区域，确保插入准确性
- **快捷键支持**: Ctrl+B/Cmd+B快速打开侧边栏

## 🚀 安装使用

### 📦 **安装方式**

#### 方式一：开发者模式安装（推荐）
1. **下载源码**: 克隆或下载本项目到本地
2. **打开Chrome扩展管理**: 访问 `chrome://extensions/`
3. **启用开发者模式**: 打开页面右上角的"开发者模式"开关
4. **加载扩展**: 点击"加载已解压的扩展程序"，选择项目文件夹
5. **完成安装**: 扩展将出现在Chrome工具栏中

#### 方式二：Chrome Web Store（即将上线）
- 搜索 "PromptCraft" 或 "提示词管理助手"
- 点击"添加至Chrome"完成安装

### ⚡ **快速上手**

#### 基础操作
- **打开侧边栏**: 点击扩展图标或按 `Ctrl+B` (Mac: `Cmd+B`)
- **添加提示词**: 点击 "+ 添加提示词" 按钮，支持10000字符长文本
- **快速搜索**: 在搜索框输入关键词，支持标题和内容全文检索
- **分类筛选**: 使用分类下拉菜单快速定位特定类型提示词
- **一键复制**: 点击复制按钮将提示词内容复制到剪贴板

#### 高级功能
- **页面内快速调用**: 在任意输入框输入 "pp" 唤起提示词选择器
- **右键菜单**: 选中文本后右键选择"添加到提示词"快速保存
- **数据管理**: 点击设置图标进行导入导出、主题切换等操作
- **跨框架插入**: 支持在React、Vue等现代Web应用中精准插入文本

### 📋 **详细使用方法**

#### 提示词管理
1. **创建提示词**: 点击 "+ 添加提示词" 按钮，填写标题（必填）和内容（必填，最多10000字符）
2. **分类管理**: 选择现有分类或输入新分类，支持AI绘画、编程助手、文案创作等预设分类
3. **编辑修改**: 点击编辑按钮修改提示词，支持实时字符计数显示
4. **删除管理**: 点击删除按钮，需确认操作（不可恢复）
5. **排序显示**: 新创建的提示词自动显示在列表顶部

#### 搜索与筛选
1. **全文搜索**: 在搜索框输入关键词，同时搜索标题和内容
2. **分类筛选**: 使用分类下拉菜单快速定位特定类型提示词
3. **实时响应**: 输入即搜索，无需等待，毫秒级响应

#### 快速调用
1. **页面内调用**: 在任意输入框输入 "pp" 自动唤起提示词选择器
2. **跨框架支持**: 支持React、Vue、Angular等现代Web框架
3. **精准插入**: 智能识别目标输入区域，确保文本准确插入
4. **右键菜单**: 选中文本后右键选择 "添加到提示词" 快速保存

## 📁 数据管理与备份

### 🔄 **导入导出功能**

#### 导出数据
- **文件格式**: 标准JSON格式，文件名包含时间戳
- **导出内容**: 完整的提示词数据，包括标题、内容、分类、时间戳等
- **用途**: 数据备份、跨设备同步、数据迁移

#### 导入数据
- **格式支持**: 标准JSON数组格式
- **智能处理**: 自动检测重复项，支持增量更新
- **错误处理**: 详细的导入报告，失败项目可单独处理
- **数据验证**: 内置数据完整性检查，确保导入质量

#### 模板下载
- **标准模板**: 提供完整的JSON数据结构模板
- **字段说明**: 详细的必填/可选字段说明
- **示例数据**: 包含实际示例，便于理解格式要求

### 📊 **数据格式规范**

```json
[
  {
    "id": "110e8400-e29b-41d4-a716-446655440000",
    "title": "提示词标题",
    "content": "提示词内容（最多10000字符）",
    "category": "AI绘画",
    "created_at": "2023-10-26T10:00:00Z",
    "updated_at": "2023-10-26T10:00:00Z",
    "is_deleted": false,
    "user_id": "local-user"
  }
]
```

**字段说明**:
- `id`: UUID格式的唯一标识符（系统自动生成）
- `title`: 提示词标题（必填，字符串）
- `content`: 提示词内容（必填，最多10000字符）
- `category`: 分类名称（可选，默认为"未分类"）
- `created_at/updated_at`: ISO 8601格式的时间戳
- `is_deleted`: 删除标记（布尔值，默认false）
- `user_id`: 用户标识（本地用户固定为"local-user"）

## 🛠️ 技术特性

### 🏗️ **现代化架构**
- **Chrome Extension Manifest V3**: 采用最新的扩展标准，确保长期兼容性
- **模块化设计**: 清晰的代码结构，包含数据服务、工具模块、UI组件等
- **单一数据源**: 基于Chrome Storage API的统一数据管理架构
- **异步编程**: 全面采用async/await模式，提升性能和用户体验

### 🎨 **用户界面**
- **响应式设计**: 完美适配Chrome侧边栏和各种屏幕尺寸
- **主题系统**: 支持自动/明亮/暗黑三种主题，跟随系统设置
- **骨架屏加载**: 消除白屏等待，提供"秒开"体验
- **流畅动画**: CSS3过渡动画，提升交互体验
- **现代UI**: 采用卡片式设计，清晰的信息层次

### ⚡ **性能优化**
- **懒加载**: 按需加载数据，减少内存占用
- **实时搜索**: 毫秒级搜索响应，支持模糊匹配
- **缓存机制**: 智能缓存策略，减少重复数据读取
- **代码分割**: 模块化加载，提升启动速度

### 🔒 **安全与隐私**
- **本地优先**: 所有数据存储在本地，零外部传输
- **权限最小化**: 仅申请必要的Chrome API权限
- **数据加密**: 敏感数据本地加密存储
- **隐私保护**: 符合GDPR和国内数据保护法规

### 🌐 **跨平台兼容**
- **全框架支持**: 兼容React、Vue、Angular、jQuery等主流框架
- **跨iframe注入**: 支持复杂页面结构的文本插入
- **智能目标锁定**: 精准识别各种输入组件
- **事件兼容**: 支持原生事件和框架事件系统

## 📝 更新日志

### v0.5.1 (2025-06-17)
- 📋 **提示词排序优化**: 新创建的提示词自动显示在列表顶部，按创建时间降序排列
- 🎨 **主题选择器重设计**: 重新设计外观设置布局，图标和文字同行显示，提升用户体验
- 🔧 **界面布局改进**: 优化设置面板中主题选择器的视觉效果和间距
- 🎯 **文本插入逻辑**: 确保快速调用功能的文本插入格式与复制按钮保持一致

### v0.5.0 (2025-06-16)
- 🚀 **重大架构重构**: 简化扩展整体架构，移除不必要的复杂性，提升系统性能和稳定性
- 🔒 **本地存储增强**: 优化Chrome Storage API使用机制，提升数据读写效率和安全性
- 🛡️ **隐私保护升级**: 强化用户数据隐私保护，确保所有数据仅在本地处理，无任何外部传输
- 🏗️ **界面流程简化**: 优化用户操作流程，移除不必要的认证步骤，提供更直接的使用体验
- ⚡ **启动性能优化**: 减少外部依赖库，显著提升扩展启动速度和响应性能
- 🧹 **代码质量提升**: 大规模代码重构和清理，移除冗余代码，提升代码可维护性
- 📝 **权限配置精简**: 优化manifest.json配置，移除不必要的权限申请，降低安全风险
- 🔧 **依赖管理优化**: 精简package.json依赖项，减少包体积，提升安装和更新速度

### v0.1.9 (2025-06-14)
- 🚀 **重大性能优化**: 实现骨架屏加载，彻底解决首次打开2-3秒白屏问题
- ⚡ **"秒开"体验**: 用户打开侧边栏时立即看到优雅的骨架屏占位符
- 🎨 **骨架屏设计**: 添加4个静态骨架卡片，包含标题、按钮、分类、内容行等完整占位符
- 🔄 **加载流程重构**: 移除setTimeout延迟，改为完全async/await实现
- 📊 **数据获取优化**: 先从chrome.storage.local获取数据，再进行渲染
- 🎭 **动画效果**: 骨架屏采用平滑脉冲动画，支持明暗主题切换
- 💾 **数据源统一**: 确保所有组件都使用chrome.storage.local作为唯一数据源

### v0.1.7 (2025-06-14)
- 🚀 **跨框架文本插入优化**: 提升与各种前端框架的兼容性
- 🎯 **目标元素锁定增强**: 确保文本插入的准确性和稳定性
- 🌐 **跨iframe支持完善**: 通过manifest.json配置实现全框架覆盖
- 🎨 **主题系统修复**: 恢复原生CSS媒体查询主题检测，确保主题一致性

### v0.1.6 (2025-06-13)
- ⚡ **初始化架构优化**: 提升数据加载性能和扩展启动速度
- 📋 **默认提示词预加载**: 扩展启动时自动加载到内存，提升响应速度
- 🛡️ **错误处理改进**: 新增用户友好的错误提示功能
- 🔧 **manifest配置完善**: 确保资源文件正确访问

### v0.1.5
- 📝 **内容长度限制**: 增加提示词内容10000字符限制
- 📊 **实时字符计数**: 新增字符计数显示功能
- 🎨 **预览高度优化**: 提示词卡片预览显示更多内容
- 📚 **默认提示词更新**: 新增多个高质量专业提示词

### v0.1.3 (2025-06-12)
- 🖱️ **右键菜单功能**: 新增右键快速添加提示词功能
- 🔍 **搜索性能优化**: 提升搜索功能响应速度
- 🏷️ **分类管理改进**: 优化分类管理界面体验

### v0.1.2 (2025-06-11)
- 📁 **JSON导入导出**: 新增JSON格式数据导入导出功能
- 🎨 **卡片显示优化**: 提升提示词卡片的视觉效果

### v0.1.1 (2025-06-10)
- 🏷️ **分类管理功能**: 新增提示词分类管理系统
- 🔍 **搜索算法优化**: 改进搜索性能和准确性

### v0.1.0 (2025-06-09)
- 🎉 **首次发布**: 基础的提示词管理功能
- 💾 **本地存储支持**: 纯本地数据存储，保护用户隐私
- 🎨 **简洁界面**: 现代化的用户界面设计

## 🎨 Icon 设计要求

为了更好地体现 Prompt管理助手 的品牌形象，我们需要设计一套专业的图标。以下是设计要求：

### 设计理念
- **主题**: AI 提示词管理、创意工具、效率助手
- **风格**: 现代简约、专业可信、科技感
- **色彩**: 主色调建议使用紫色系 (#6366f1) 或蓝色系，体现科技和创新

### 图标规格
- **16x16px**: 浏览器工具栏小图标
- **32x32px**: 扩展管理页面图标
- **48x48px**: Chrome 网上应用店图标
- **128x128px**: 高分辨率展示图标

### 设计元素建议
- **核心元素**: 可考虑融入以下元素之一或组合
  - 魔法棒/法杖 (代表 AI 魔法)
  - 文档/纸张 (代表提示词文本)
  - 齿轮/工具 (代表效率工具)
  - 闪电/火花 (代表创意灵感)
  - 字母 "P" (Prompt管理助手 首字母)

### 技术要求
- **格式**: PNG 格式，透明背景
- **兼容性**: 在明暗两种主题下都要清晰可见
- **简洁性**: 在小尺寸下仍能保持清晰的识别度
- **一致性**: 不同尺寸保持设计风格统一

### 文件命名
- `icon16.png` - 16x16 像素
- `icon32.png` - 32x32 像素  
- `icon48.png` - 48x48 像素
- `icon128.png` - 128x128 像素

## 💻 技术栈

### 🎯 **核心技术**
- **前端框架**: 原生JavaScript (ES6+)，无外部依赖
- **样式系统**: CSS3 + CSS Variables，支持主题切换
- **存储引擎**: Chrome Storage API (Local Storage)
- **扩展标准**: Chrome Extension Manifest V3
- **图标库**: Font Awesome 6.4.0
- **布局技术**: Flexbox + CSS Grid 响应式布局

### 🏗️ **架构设计**
- **数据服务层**: 统一的数据访问接口 (DataService)
- **工具模块层**: UUID生成、JSON处理等工具函数
- **UI组件层**: 模块化的界面组件和交互逻辑
- **内容脚本层**: 页面注入和跨框架兼容处理
- **后台服务层**: 扩展生命周期管理和默认数据加载

### ⚙️ **关键实现**

#### 数据管理
- **单一数据源**: 基于Chrome Storage API的统一数据管理
- **异步处理**: 全面采用async/await模式，避免回调地狱
- **数据完整性**: 内置数据验证和错误恢复机制
- **版本管理**: 支持数据格式版本控制和迁移

#### 性能优化
- **骨架屏技术**: 消除首次加载白屏，提供即时视觉反馈
- **懒加载策略**: 按需加载数据，减少内存占用
- **事件防抖**: 搜索输入300ms防抖，优化用户体验
- **DOM优化**: 最小化DOM操作，使用DocumentFragment批量更新

#### 跨平台兼容
- **框架无关**: 支持React、Vue、Angular等现代前端框架
- **事件系统**: 兼容原生事件和框架合成事件
- **目标锁定**: 智能识别各种输入组件类型
- **iframe支持**: 跨框架文本插入和样式隔离

## 🔧 技术实现

### 核心架构
- **数据层**: 基于 Chrome Storage API 的本地存储
- **业务层**: 模块化的数据服务和工具函数
- **表现层**: 响应式的 HTML/CSS/JavaScript 界面
- **扩展层**: Chrome Extension APIs 集成

### 性能优化
- **骨架屏加载**: 首次打开时显示占位符，提升感知性能
- **异步数据加载**: 使用 async/await 优化数据获取流程
- **事件防抖**: 搜索输入采用 300ms 防抖，减少不必要的计算
- **DOM 优化**: 最小化 DOM 操作，使用文档片段批量更新

### 数据管理
- **单一数据源**: 所有组件都从 chrome.storage.local 读取数据
- **状态同步**: 实时同步数据变更，确保界面一致性
- **错误处理**: 完善的异常捕获和用户友好的错误提示
- **数据验证**: 导入时进行格式验证，确保数据完整性

### 关键特性
- **主题切换**: CSS Variables 实现的动态主题系统
- **响应式设计**: Flexbox 和 Grid 布局适配不同屏幕
- **模块化代码**: 清晰的文件结构和功能分离
- **用户体验**: 流畅的动画和交互反馈

## 📁 项目结构

```
PromptCraft/
├── 📄 manifest.json          # Chrome扩展配置文件
├── 📄 package.json           # 项目依赖配置
├── 📄 README.md              # 项目说明文档
├── 📁 docs/                  # 文档目录
│   ├── 📄 FR1和FR2，统一数据格式 # 数据格式统一文档
│   ├── 📄 FR3数据服务.md     # 数据服务文档
│   ├── 📄 FR4核心功能与状态同步.md # 核心功能文档
│   ├── 📄 需求内容.md        # 项目需求文档
│   └── 📄 远程同步supabase.md # 远程同步文档(已停用)
├── 📁 assets/                # 静态资源目录
│   ├── 📁 icons/             # 图标文件目录
│   │   ├── 🖼️ icon16.png     # 16x16 主图标
│   │   ├── 🖼️ icon16-wu.png  # 16x16 备用图标
│   │   ├── 🖼️ icon32.png     # 32x32 图标
│   │   ├── 🖼️ icon48.png     # 48x48 图标
│   │   └── 🖼️ icon128.png    # 128x128 图标
│   └── 📁 data/              # 数据文件目录
│       └── 📄 default-prompts.json # 默认提示词数据
├── 📁 lib/                   # 第三方库目录(已清空)
└── 📁 src/                   # 源代码目录
    ├── 📄 background.js      # 后台脚本
    ├── 📄 content_script.js  # 内容脚本
    ├── 📁 utils/             # 工具函数目录
    │   ├── 📄 data-service.js # 数据服务工具
    │   ├── 📄 json-utils.js  # JSON处理工具
    │   └── 📄 uuid.js        # UUID生成工具
    └── 📁 sidepanel/         # 侧边栏界面
        ├── 📄 sidepanel.html # 主界面HTML
        ├── 📄 sidepanel.css  # 样式文件
        └── 📄 sidepanel.js   # 主要逻辑脚本
```

## 🔒 隐私与安全

### 🛡️ **数据隐私**
- **本地优先**: 100%本地存储，数据永不离开您的设备
- **零网络传输**: 无任何外部API调用或数据上传
- **权限最小化**: 仅申请必要的Chrome扩展权限
- **透明开源**: 完整源代码开放，可自由审计

### 🔐 **安全保障**
- **Manifest V3**: 采用Chrome最新安全标准
- **沙盒隔离**: 扩展运行在安全沙盒环境中
- **代码签名**: 发布版本经过完整性验证
- **定期更新**: 持续跟进Chrome安全更新

## 🤝 参与贡献

我们欢迎所有形式的贡献！无论是报告Bug、提出功能建议，还是提交代码改进。

### 🚀 **快速开始**
```bash
# 1. Fork 并克隆项目
git clone https://github.com/Wangshixiong/PromptCraft.git
cd PromptCraft

# 2. 在Chrome中加载扩展
# 打开 chrome://extensions/
# 开启"开发者模式"
# 点击"加载已解压的扩展程序"
# 选择项目根目录

# 3. 开发和测试
# 修改代码后，在扩展管理页面点击刷新按钮
```

### 📋 **贡献指南**
- **代码规范**: 遵循现有的代码风格和命名约定
- **功能测试**: 确保新功能在不同场景下正常工作
- **文档更新**: 重要变更需要更新相关文档
- **向后兼容**: 保持数据格式和API的向后兼容性

### 🐛 **问题反馈**
- 使用GitHub Issues报告Bug或提出建议
- 提供详细的复现步骤和环境信息
- 搜索现有Issue避免重复提交

## 📜 开源许可

本项目采用 **MIT License** 开源协议

```
MIT License

Copyright (c) 2024 PromptCraft

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

---

<div align="center">

**🌟 如果这个项目对您有帮助，请给我们一个Star！**

**💬 有问题或建议？欢迎提交Issue或Pull Request**

**📧 联系我们: [your-email@example.com](mailto:your-email@example.com)**

</div>

---

**Prompt管理助手** - 让 AI 提示词管理变得简单高效！